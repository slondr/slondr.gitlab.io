<!--     This file is part of slondr.gitlab.io.

     slondr.gitlab.io is free software: you can redistribute it and/or modify
     it under the terms of the GNU Affero General Public License as published by
     the Free Software Foundation, either version 3 of the License, or
     (at your option) any later version.

     slondr.gitlab.io is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU Affero General Public License for more details.

     You should have received a copy of the Affero GNU General Public License
     along with slondr.gitlab.io.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html lang="en">
    <head>
	<title>Cyrillish</title>
	<style>
	 body {
	     background-color: #282828;
	     color: #fdde7e;
	     font-size: 1.2em;
	     
	     display: flex;
	     flex-direction: column;
	     justify-content: center;
	     align-items: center;
	 }

	 textarea {
	     color: inherit;
	     background-color: inherit;
	 }
	 
	 main {
	     max-width: 72ch;
	 }
	</style>
	<script lang="javascript">
	 function convert() {
	     let ipa = document.getElementById('input-ipa').value;
	     var cyrillish = [];

	     for(let i = 0; i < ipa.length; ++i) {
		 switch(ipa[i]) {
		     case 'a':
			 cyrillish.push('а');
			 break;
		     case 'b':
			 cyrillish.push('б');
			 break;
		     case 'ʧ':
			 cyrillish.push('ч');
			 break;
		     case 't':
			 if(ipa[i+1] && ipa[i+1] === 's') {
			     cyrillish.push('ц');
			 } else {
			     cyrillish.push('т');
			 }
			 break;
		     case 'd':
			 cyrillish.push('л');
			 break;
		     case 'ɛ':
		     case 'e':
			 cyrillish.push('е');
			 break;
		     case 'f':
			 cyrillish.push('ф');
			 break;
		     case 'g':
			 cyrillish.push('г');
			 break;
		     case 'h':
			 cyrillish.push('х');
			 break;
		     case 'i':
		     case 'I':
		     case 'ɪ':
			 cyrillish.push('и');
			 break;
		     case 'ʤ':
			 cyrillish.push('џ');
			 break;
		     case 'k':
			 if(ipa[i+1] && ipa[i+1] === 's') {
			     cyrillish.push('қ');
			     i++;
			 } else {
			     cyrillish.push('к');
			 }
			 break;
		     case 'l':
			 cyrillish.push('л');
			 break;
		     case 'm':
			 cyrillish.push('м');
			 break;
		     case 'n':
			 cyrillish.push('н');
			 break;
		     case 'o':
		     case 'ɔ':
			 cyrillish.push('о');
			 break;
		     case 'p':
			 cyrillish.push('п');
			 break;
		     case 'r':
			 cyrillish.push('р');
			 break;
		     case 's':
			 cyrillish.push('с');
			 break;
		     case 'ʃ':
			 cyrillish.push('ш');
			 break;
		     case 'ɜ':
		     case 'ʌ':
		     case 'ə':
		     case 'u':
			 cyrillish.push('у');
			 break;
		     case 'v':
			 cyrillish.push('в');
			 break;
		     case 'w':
			 cyrillish.push('ў');
			 break;
		     case 'j':
			 cyrillish.push('ј');
			 break;
		     case 'z':
			 cyrillish.push('з');
			 break;
		     case 'æ':
			 cyrillish.push('э');
			 break;
		     case 'ŋ':
			 cyrillish.push('ӊ');
			 break;
		     case 'ʒ':
			 cyrillish.push('ж');
			 break;
		     case 'θ':
			 cyrillish.push('ћ');
			 break;
		     case 'ð':
			 cyrillish.push('ђ');
			 break;
		     case "ˈ":
			 break;
		     default:
			 cyrillish.push(ipa[i]);
			 if(ipa[i] != ' ' && ipa[i] != '.' && ipa[i] != ',') {
			     console.error(`${ipa[i]} is not an accepted IPA symbol`);
			 }
			 break;
		 }
	     }

	     // publish the new string
	     document.getElementById('output-cyrillish').textContent = cyrillish.join('');
	 }
	</script>
    </head>
    <body>
	<main>
	    <div>Input IPA:</div>
	    <textarea id="input-ipa" oninput="convert()"></textarea>
	    <br/>
	    <span>Cyrillish:</span><div id="output-cyrillish"></div>
	</main>
    </body>
</html>
